const Webflow = require('webflow-api');

// Initialize the API
const api = new Webflow({ token: 'api-token' });

// Fetch a site
api.site({ siteId: '580e63e98c9a982ac9b8b741' }).then(site => console.log(site));


<!DOCTYPE html>
<!-- This site was created in Webflow. http://www.webflow.com -->
<!-- Last Published: Wed Jan 17 2018 22:14:42 GMT+0000 (UTC) -->
<html data-wf-domain="api-tester.webflow.io" data-wf-page="58ccac905cf4319063a28c7b" data-wf-site="58ccac905cf4319063a28c7a" data-wf-status="1"><head><meta charset="utf-8"/>
<title>api-tester</title>
<meta content="width=device-width, initial-scale=1" name="viewport"/><meta content="Webflow" name="generator"/><link href="https://daks2k3a4ib2z.cloudfront.net/58ccac905cf4319063a28c7a/css/api-tester.webflow.fff9a128e.min.css" rel="stylesheet" type="text/css"/><script src="https://ajax.googleapis.com/ajax/libs/webfont/1.4.7/webfont.js" type="text/javascript"></script><script type="text/javascript">WebFont.load({  google: {    families: ["Open Sans:300,300italic,400,400italic,600,600italic,700,700italic,800,800italic","Inconsolata:400,700"]  }});</script><!--[if lt IE 9]><script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.min.js" type="text/javascript"></script><![endif]--><script type="text/javascript">!function(o,c){var n=c.documentElement,t=" w-mod-";n.className+=t+"js",("ontouchstart"in o||o.DocumentTouch&&c instanceof DocumentTouch)&&(n.className+=t+"touch")}(window,document);</script><link href="https://daks2k3a4ib2z.cloudfront.net/58ccac905cf4319063a28c7a/58cdc1baef345dce63008c00_5887e62470ee61203f2df715_default_favicon.png" rel="shortcut icon" type="image/x-icon"/><link href="https://daks2k3a4ib2z.cloudfront.net/58ccac905cf4319063a28c7a/58cdc1d6ffb625442ad5151b_5887e62870ee61203f2df716_default_webclip.png" rel="apple-touch-icon"/><script type="text/javascript">(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create', 'UA-93959776-1', 'auto');ga('send', 'pageview');</script><style>
html, body { overflow-x: hidden; }
html.noscroll, html.noscroll body { overflow-y: hidden; }

/*
.w-select { background-image: none; } 
.w-input:focus, .w-select:focus {
  border-color: #9fcbca;
  outline: 0;
}
*/

/* Selection */
::selection { background: #ddd; }
::-moz-selection { background: #ddd; }
input:focus { outline:none; }

/* Scrollbar */
::-webkit-scrollbar{width:8px;height:8px;}
::-webkit-scrollbar-thumb{background-color:rgb(196, 196, 196); border-radius: 5;}
::-webkit-scrollbar-thumb:hover{background-color:rgb(196, 196, 196);}
::-webkit-scrollbar-track{background-color:rgba(255, 255, 255, 0);}

/* Placeholder */
::-webkit-input-placeholder { color: #ddd !important; }
::-moz-placeholder { color: #ddd !important; }
:-moz-placeholder { color: #ddd !important; }
:-ms-input-placeholder { color: #ddd !important; }

/* Custom radio & checkbox */
.w-checkbox, .w-radio { padding-left: 0; }

@media screen and (max-width: 991px) {
  .w-checkbox, .w-radio {
    margin-bottom: 10px;
  }
}
</style>

<script>
var Webflow = Webflow || [];
setTimeout("ga('send', 'event', '10s', 'More than 10 seconds')", 10000);
setTimeout("ga('send', 'event', '30s', 'More than 30 seconds')", 30000);
setTimeout("ga('send', 'event', '60s', 'More than 60 seconds')", 60000);
setInterval("ga('send', 'event', 'heartbeat', 'heartbeat')", 60000);
function getParam(name) { name = name.replace(/[\[]/, "\\[").replace(/[\]]/, "\\]"); var regex = new RegExp("[\\?&]" + name + "=([^&#]*)"), results = regex.exec(location.search); return results === null ? "" : decodeURIComponent(results[1].replace(/\+/g, " ")); }
</script><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.10.0/styles/default.min.css"></head><body><div class="section"><div class="w-container"><h1 class="heading">Webflow API Tester</h1><div class="introduction"><p>Webflow API Reference: <a href="http://developers.webflow.com" target="_blank">http://developers.webflow.com<br/></a><br/>Create/Update/Remove operations not implemented below for safety reasons.</p></div><label for="access_token">Access Token <a href="https://help.webflow.com/article/using-the-webflow-cms-api" target="_blank" title="What is this?">(?)</a></label><input type="text" class="text-field w-input" maxlength="256" name="access_token" data-name="access_token" placeholder="344b7bd6849b65d58da01a04e75cecae94952867fb5740a5c9d5d6331f1e5fd9" id="access_token" required=""/><div class="api-form"><div class="form-field"><div class="form-field"><label for="api-property">API Property</label><select id="api-property" name="api-property" data-name="api-property" class="api-property w-select"><option value="#info-action">info</option><option value="#sites-action">sites</option><option value="#collections-action">collections</option></select></div><div class="form-field"><label for="sites-action">Property Action</label><select id="info-action" name="info-action" data-name="info-action" class="property-action w-select"><option value="/info">Display information about access token</option></select><select id="sites-action" name="sites-action" data-name="sites-action" class="property-action w-select"><option value="/sites">List Sites</option><option value="/sites/{siteId}">Get Specific Site</option><option value="/sites/{siteId}/publish">Publish Site</option><option value="/sites/{siteId}/domains">List Domains</option><option value="/sites/{siteId}/collections">List Collections</option><option value="/sites/{siteId}/images">List Images</option><option value="/sites/{siteId}/webhooks">List Webhooks</option><option value="/sites/{siteId}/webhooks/{itemId}">Get Webhook</option></select><select id="collections-action" name="collections-action" data-name="collections-action" class="property-action w-select"><option value="/collections/{collectionId}">Get Collection</option><option value="/collections/{collectionId}/items">Get All Items</option><option value="/collections/{collectionId}/items/{itemId}">Get Single Item</option></select></div></div><div class="form-field"><div class="form-field"><label for="site_id">Site ID</label><input type="text" class="action-variable w-input" maxlength="256" name="site_id" data-name="site_id" placeholder="site_id" id="site_id" required=""/></div><div class="form-field"><label for="collection_id">Collection ID</label><input type="text" class="action-variable w-input" maxlength="256" name="collection_id" data-name="collection_id" placeholder="collection_id" id="collection_id" required=""/></div><div class="form-field"><label for="item_id">Item ID</label><input type="text" class="action-variable w-input" maxlength="256" name="item_id" data-name="item_id" placeholder="item_id" id="item_id" required=""/></div><div class="form-field"><label for="items_offset">Page Number (100 items/page)</label><select id="items_offset" name="items_offset" data-name="items_offset" class="action-variable w-select"><option value="0">1</option><option value="101">2</option><option value="201">3</option><option value="301">4</option><option value="401">5</option><option value="501">6</option><option value="601">7</option><option value="701">8</option><option value="801">9</option><option value="901">10</option><option value="1001">11</option><option value="1101">12</option><option value="1201">13</option><option value="1301">14</option><option value="1401">15</option><option value="1501">16</option><option value="1601">17</option><option value="1701">18</option><option value="1801">19</option><option value="1901">20</option></select></div></div></div><input type="submit" value="Fetch Data" id="submitBtn" class="submit-button w-button"/></div></div><div class="section"><div class="w-container"><h1>API Result</h1><div id="results" class="results"></div><div class="results-info"><div>Paste the above result into <a href="https://www.tools4noobs.com/online_php_functions/stripslashes/" target="_blank">stripslashes tool</a>, then the result into <a href="http://json2table.com" target="_blank">json2table.com</a> to view it as a table, then you can copy it into Excel and save as XLS, CSV or other formats.</div></div></div></div><div class="section section-footer"><div class="w-container"><div class="footer-text">Expert Professional Custom Webflow Development. <a href="http://webflowexpert.com" target="_blank">http://webflowexpert.com</a></div></div></div><div class="w-embed"><style>
.form-field {
  break-inside: avoid-column;
}
#results {
  word-break: break-all;
}
</style></div><script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js" type="text/javascript"></script><script src="https://daks2k3a4ib2z.cloudfront.net/58ccac905cf4319063a28c7a/js/webflow.46ee462a7.js" type="text/javascript"></script><!--[if lte IE 9]><script src="//cdnjs.cloudflare.com/ajax/libs/placeholders/3.0.2/placeholders.min.js"></script><![endif]--><script>
Webflow.push(function() {
  // Disable user selection on carousels and other clickable elements
  $.fn.disableSelection = function() { return this.attr('unselectable', 'on').css('user-select', 'none').on('selectstart', false) };
  $.fn.enableSelection = function() { return this.removeAttr('unselectable').css('user-select', 'initial').on('selectstart', true) };
  $('header, footer, .noselect, .button').disableSelection();
  
  $('#year').text(new Date().getFullYear());
});
</script><script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.10.0/highlight.min.js"></script>
<script>var Webflow = Webflow.push(function() {

// vars
var currentAction;
var apiUrl = "https://proxy.samliew.net";

// events
$('#api-property').change(function() {
  $('.property-action').hide();
  $($(this).val()).show().trigger('change');
});

$('.property-action').change(function() {
  updateVars();
});

updateVars = function() {
  currentAction = $('.property-action:visible').val();
  $('#site_id').toggle(currentAction.indexOf('{siteId}') >= 0);
  $('#collection_id').toggle(currentAction.indexOf('{collectionId}') >= 0);
  $('#item_id').toggle(currentAction.indexOf('{itemId}') >= 0);
  $('#items_offset').toggle(getAllItemsSelected()).val(0);
  
  $('.action-variable').each(function() {
    $(this).prev('label').toggle($(this).is(':visible'));
  });
};

getAllItemsSelected = function() {
  return $('#collections-action').is(':visible') && $('#collections-action').val() === "/collections/{collectionId}/items";
}

$('#submitBtn').click(function() {
  // validation
  if($('#access_token').val() == '') {
    alert('Access token is required!');
    return;
  }
  var invalidVars = $('.action-variable:visible').filter(function () {
    return this.value.match(/^[a-z0-9]+$/) == null; // invalid
	});
  if(invalidVars.length > 0) {
    console.log(invalidVars);
    alert('Variable fields require alphanumeric IDs!');
    return;
  }

  var query = $('.property-action:visible').val();
  query = query.replace('{siteId}', $('#site_id').val());
  query = query.replace('{collectionId}', $('#collection_id').val());
  query = query.replace('{itemId}', $('#item_id').val());
  
  console.log(query);
  
  $.ajax({
    url: apiUrl + '/' + query + '/?access_token=' +
           $('#access_token').val() + '&api_version=1.0.0' +
           (getAllItemsSelected() ? '&offset=' + $('#items_offset').val() : ''),
    method: 'GET',
    crossDomain: true,
    success: function(data) {
      var text = JSON.stringify(data, null, 2);
      var resElem = $('#results').removeClass('hljs').text(text);
      hljs.highlightBlock(resElem.get(0));
    },
    error: function(jqXHR, status, errorThrown) {
      $('#results').html(status + ' ' + errorThrown);
      console.log(jqXHR, status, errorThrown);
    },
  });
});

// init
$('#results').replaceWith('<pre><code id="results" class="results json"></code></pre>');
$('.property-action').hide().first().show();
updateVars();

/*hljs.configure({
  tabReplace: '  ',
  useBR: false
});
hljs.initHighlightingOnLoad();*/

});</script>
</body></html>
